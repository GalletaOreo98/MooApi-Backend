"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[867],{1867:(Z,l,s)=>{s.r(l),s.d(l,{AuthModule:()=>x});var u=s(9808),e=s(2382),i=s(9560),r=s(7587),p=s(9148),g=s(6627);function c(o,n){1&o&&(r.TgZ(0,"p",7),r._uU(1," Campos invalidos "),r.qZA())}function f(o,n){if(1&o&&(r.TgZ(0,"p",7),r._uU(1),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.hij(" ",t.errorMessage," ")}}function h(o,n){1&o&&(r.TgZ(0,"p",9),r._uU(1," Campos invalidos "),r.qZA())}function I(o,n){1&o&&(r.TgZ(0,"p",9),r._uU(1," Contrase\xf1as no coinciden o no son seguras. La contrase\xf1a debe tener al entre 8 y 16 caracteres, al menos un d\xedgito, al menos una min\xfascula y al menos una may\xfascula. "),r.qZA())}function w(o,n){if(1&o&&(r.TgZ(0,"p",9),r._uU(1),r.qZA()),2&o){const t=r.oxw();r.xp6(1),r.Oqu(t.errorMessage)}}const v=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/,C=/^(?=\w*\d)(?=\w*[A-Z])(?=\w*[a-z])\S{8,16}$/,y=[{path:"",children:[{path:"login",component:(()=>{class o{constructor(t,a,m){this.authService=t,this.router=a,this.appComponent=m,this.formularioIngresar=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",[e.kI.required])}),this.errorMessage=""}ngOnInit(){}ingresar(){this.authService.login(this.formularioIngresar.value.email,this.formularioIngresar.value.password).subscribe({next:t=>{localStorage.setItem("token",t.token),localStorage.setItem("nombre",t.nombre),this.appComponent.ngOnInit(),this.router.navigate([""])},error:t=>{this.errorMessage=t.error.message}})}}return o.\u0275fac=function(t){return new(t||o)(r.Y36(p.C),r.Y36(i.F0),r.Y36(g.y))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-login"]],decls:11,vars:4,consts:[[1,"d-flex","mt-5","flex-column","mx-auto","col-10","col-md-4",3,"formGroup"],[1,"text-white","mx-auto","mb-5"],["formControlName","email","type","text","id","input-email","placeholder","E-mail",1,"form-control","mx-auto","bg-gray"],["formControlName","password","type","password","id","input-password","placeholder","Contrase\xf1a",1,"form-control","mx-auto","bg-gray","mt-4"],[1,"btn","btn-danger","mt-5",3,"disabled","click"],["routerLink","/auth/registro",1,"mt-4","mx-auto"],["class","text-white mt-3 mx-auto","style","font-size: 0.8em;",4,"ngIf"],[1,"text-white","mt-3","mx-auto",2,"font-size","0.8em"]],template:function(t,a){1&t&&(r.TgZ(0,"form",0)(1,"h4",1),r._uU(2,"\xa1Bienvenido de nuevo!"),r.qZA(),r._UZ(3,"input",2)(4,"input",3),r.TgZ(5,"button",4),r.NdJ("click",function(){return a.ingresar()}),r._uU(6,"Ingresar"),r.qZA(),r.TgZ(7,"a",5),r._uU(8,"\xbfNo tienes una cuenta?"),r.qZA(),r.YNc(9,c,2,0,"p",6),r.YNc(10,f,2,1,"p",6),r.qZA()),2&t&&(r.Q6J("formGroup",a.formularioIngresar),r.xp6(5),r.Q6J("disabled",!a.formularioIngresar.valid),r.xp6(4),r.Q6J("ngIf",!a.formularioIngresar.valid&&a.formularioIngresar.value.email&&a.formularioIngresar.value.password&&a.formularioIngresar.dirty),r.xp6(1),r.Q6J("ngIf",a.errorMessage))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,i.yS,u.O5],styles:[""]}),o})()},{path:"registro",component:(()=>{class o{constructor(t,a,m){this.authService=t,this.router=a,this.appComponent=m,this.formularioIngresar=new e.cw({email:new e.NI("",[e.kI.required,e.kI.maxLength(200),e.kI.pattern(v)]),password:new e.NI("",[e.kI.required,e.kI.maxLength(200),e.kI.pattern(C)]),passwordconfirm:new e.NI("",[e.kI.required]),nombre:new e.NI("",[e.kI.required,e.kI.maxLength(100)])}),this.errorMessage=""}ngOnInit(){}registrar(){this.authService.registrar(this.formularioIngresar.value.email,this.formularioIngresar.value.password,this.formularioIngresar.value.nombre).subscribe({next:t=>{localStorage.setItem("token",t.token),localStorage.setItem("nombre",t.nombre),this.appComponent.ngOnInit(),this.router.navigate([""])},error:t=>{this.errorMessage=t.error.sqlMessage}})}}return o.\u0275fac=function(t){return new(t||o)(r.Y36(p.C),r.Y36(i.F0),r.Y36(g.y))},o.\u0275cmp=r.Xpm({type:o,selectors:[["app-registro"]],decls:14,vars:5,consts:[[1,"d-flex","mt-5","flex-column","mx-auto","col-10","col-md-4",3,"formGroup"],[1,"text-white","mx-auto","mb-5"],["formControlName","email","type","text","placeholder","E-mail",1,"form-control","mx-auto","bg-gray"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"form-control","mx-auto","bg-gray","mt-4"],["formControlName","passwordconfirm","type","password","placeholder","Confirmar contrase\xf1a",1,"form-control","mx-auto","bg-gray","mt-4"],["formControlName","nombre","type","text","placeholder","Nombre",1,"form-control","mx-auto","bg-gray","mt-4"],[1,"btn","btn-danger","mt-5",3,"disabled","click"],["routerLink","/auth/login",1,"mt-4","mx-auto"],["class","text-white mt-3 mx-auto","style","font-size: 0.8em;",4,"ngIf"],[1,"text-white","mt-3","mx-auto",2,"font-size","0.8em"]],template:function(t,a){1&t&&(r.TgZ(0,"form",0)(1,"h4",1),r._uU(2,"Registrate"),r.qZA(),r._UZ(3,"input",2)(4,"input",3)(5,"input",4)(6,"input",5),r.TgZ(7,"button",6),r.NdJ("click",function(){return a.registrar()}),r._uU(8,"Registrate"),r.qZA(),r.TgZ(9,"a",7),r._uU(10,"\xbfYa tienes una cuenta?"),r.qZA(),r.YNc(11,h,2,0,"p",8),r.YNc(12,I,2,0,"p",8),r.YNc(13,w,2,1,"p",8),r.qZA()),2&t&&(r.Q6J("formGroup",a.formularioIngresar),r.xp6(7),r.Q6J("disabled",!a.formularioIngresar.valid),r.xp6(4),r.Q6J("ngIf",!a.formularioIngresar.valid&&a.formularioIngresar.value.email&&a.formularioIngresar.value.password&&a.formularioIngresar.value.passwordconfirm&&a.formularioIngresar.value.nombre&&a.formularioIngresar.dirty),r.xp6(1),r.Q6J("ngIf",a.formularioIngresar.value.passwordconfirm!=a.formularioIngresar.value.password&&a.formularioIngresar.value.password&&a.formularioIngresar.value.passwordconfirm||!a.formularioIngresar.controls.password.valid&&!!a.formularioIngresar.value.password&&a.formularioIngresar.controls.password.dirty&&a.formularioIngresar.controls.password.touched),r.xp6(1),r.Q6J("ngIf",a.errorMessage))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,i.yS,u.O5],styles:[""]}),o})()},{path:"**",redirectTo:"login"}]}];let b=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[i.Bz.forChild(y)]]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=r.oAB({type:o}),o.\u0275inj=r.cJS({imports:[[e.u5,e.UX,u.ez,i.Bz,b]]}),o})()}}]);